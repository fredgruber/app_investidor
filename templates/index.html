<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador DCA Bitcoin vs Tradicional</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Simulador de Investimentos DCA</h1>
            <div class="subtitle">Compare a estrat√©gia Dollar-Cost Averaging em Bitcoin contra Lump Sum em Ouro e S&P 500</div>
        </header>

        <section class="card">
            <form action="/simulate" method="POST">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="startDate">Data de In√≠cio</label>
                        <input type="date" id="startDate" name="startDate" value="{{.StartDate}}" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">Data Final</label>
                        <input type="date" id="endDate" name="endDate" value="{{.EndDate}}" required>
                    </div>
                    <div class="form-group">
                        <label for="amount">Valor por Per√≠odo (USD)</label>
                        <input type="number" id="amount" name="amount" value="{{.Amount}}" min="10" required>
                    </div>
                    <div class="form-group">
                        <label for="frequency">Frequ√™ncia</label>
                        <select id="frequency" name="frequency">
                            <option value="daily" {{if eq .Frequency "daily"}}selected{{end}}>Di√°rio</option>
                            <option value="weekly" {{if eq .Frequency "weekly"}}selected{{end}}>Semanal</option>
                            <option value="monthly" {{if eq .Frequency "monthly"}}selected{{end}}>Mensal</option>
                        </select>
                    </div>
                </div>
                <button type="submit">Simular Cen√°rio</button>
            </form>
        </section>

        {{if .Error}}
        <div class="card" style="border-color: #ea3943;">
            <p style="color: #ea3943;">{{.Error}}</p>
        </div>
        {{end}}

        {{if .Results}}
        <section class="card">
            <h2>Resultados</h2>
            <table>
                <thead>
                    <tr>
                        <th>Estrat√©gia</th>
                        <th>Total Investido</th>
                        <th>Valor Final</th>
                        <th>Retorno %</th>
                        <th>Vantagem vs DCA</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .Results}}
                    <tr>
                        <td>{{.StrategyName}}</td>
                        <td>${{printf "%.2f" .TotalInvested}}</td>
                        <td>${{printf "%.2f" .FinalValue}}</td>
                        <td class="{{if ge .ReturnPercent 0.0}}positive{{else}}negative{{end}}">{{printf "%.2f" .ReturnPercent}}%</td>
                        <td>
                            <!-- C√°lculo simples de vantagem visual -->
                             - 
                        </td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
            
            <div class="best-strategy">
                üèÜ Melhor Estrat√©gia: {{.BestStrategy}}
            </div>
        </section>

        <section class="insights">
            <div class="insight-card">
                <h3>üí° Por que DCA?</h3>
                <p>O Dollar-Cost Averaging (DCA) suaviza a entrada no mercado. Ao comprar quantias fixas regularmente, voc√™ compra mais Bitcoin quando o pre√ßo cai e menos quando sobe, reduzindo o pre√ßo m√©dio por moeda e eliminando o estresse de tentar acertar o "fundo" do mercado (timing).</p>
            </div>
            
            <div class="insight-card">
                <h3>üìä Volatilidade vs Estabilidade</h3>
                <p>O Bitcoin tende a ter alta volatilidade, o que pode gerar retornos massivos ou quedas bruscas. O Ouro (XAU) √© historicamente uma reserva de valor est√°vel. O S&P 500 representa o crescimento da economia americana. Comparar os tr√™s ajuda a entender o perfil de risco-retorno.</p>
            </div>
        </section>
        {{end}}
    </div>
</body>
</html>
